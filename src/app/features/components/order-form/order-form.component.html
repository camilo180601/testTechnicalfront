<div class="form-container">
  <h2>{{ isEdit ? 'Editar Orden' : 'Crear Orden' }}</h2>

  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="form-group">
      <label>Cliente</label>
      <input formControlName="client_name" />
      <small *ngIf="form.controls['client_name'].invalid && form.controls['client_name'].touched">
        Campo obligatorio (máx. 100 caracteres)
      </small>
    </div>

    <div class="form-group">
      <label>Descripción</label>
      <textarea formControlName="description" rows="3"></textarea>
      <small *ngIf="form.controls['description'].invalid && form.controls['description'].touched">
        Campo obligatorio (máx. 500 caracteres)
      </small>
    </div>

    <div class="form-group">
      <label>Estado</label>
      <select formControlName="status">
        <option value="pending">Pendiente</option>
        <option value="in_progress">En progreso</option>
        <option value="completed">Completada</option>
      </select>
    </div>

    <div class="form-group">
      <label>Fecha de entrega</label>
      <input type="date" formControlName="delivery_date" />
      <small *ngIf="form.controls['delivery_date'].invalid && form.controls['delivery_date'].touched">
        Campo obligatorio
      </small>
    </div>

    <p class="error" *ngIf="duplicateError">{{ duplicateError }}</p>

    <button type="submit" [disabled]="form.invalid || !!duplicateError || loading">
      {{ loading ? 'Guardando...' : 'Guardar' }}
    </button>
  </form>
</div>
